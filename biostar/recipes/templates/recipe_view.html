{% extends "base_content.html" %}
{% load static %}
{% load engine_tags %}

{% block js %}

    <link rel="stylesheet" href="{% static 'codemirror/lib/codemirror.css' %}{% randparam %}">
    <link rel="stylesheet" href="{% static 'codemirror/theme/idea.css' %}{% randparam %}">
    <script src="{% static 'codemirror/lib/codemirror.js' %}"></script>
    <script src="{% static 'codemirror/addon/display/autorefresh.js' %}"></script>
    <script src="{% static 'codemirror/mode/simple.js' %}"></script>
    <script src="{% static 'codemirror/mode/engine.js' %}"></script>
    <script src="{% static 'codemirror/mode/shell.js' %}"></script>

    {#  Javascript code that handles the recipe interfaces. #}
    <script src="{% static 'recipes.js' %}{% randparam %}"></script>

{% endblock %}

{% block headtitle %}
    Recipe View
{% endblock %}


    {% block segment %}

    <div class="ui basic large segment" style="padding-top: 0; padding-left: 0px;padding-right: 37px;">

     <div class="ui center aligned top-title header" >
             <span><img class="ui avatar viewing image" src="{% img project %}"/>{{ project.name }}
             </span>
     </div>

    <div class="ui six item menu">
              <a class="item click" href="#" data-value="#run">
                    <i class="play olive icon"></i> Run recipe
                </a>

                <a class="item click" href="#info" data-value="#info">
                    <i class="info blue circle icon"></i> Recipe description
                </a>



                <a class="item click" href="#results" data-value="#results">
                    <i class="settings orange icon"></i> Recipe results ({{ recipe.job_count }})
                </a>



                <a class="item" href="{% url 'recipe_download' recipe.uid %}">
                    <i class="download violet icon"></i> Download recipe
                </a>


                <a class="item click" href="#code" data-value="#code">
                    <i class="code pink icon"></i> Recipe code
                </a>


                <a class="item click" href="#interface" data-value="#interface">
                    <i class="tv brown icon"></i> Recipe interface
                </a>

</div>

    <span>
        {% block content %}
                           <input type="hidden" id="recipe_id" value="{{ recipe.id }}">

    {# Info panel. Loads dynamically. #}
    <div class="ui basic large segment collapse" id="info">
        {% include "parts/recipe_info.html" %}
    </div>

    {# Code panel. #}
    <div class="ui basic large segment collapse" id="code">
        {% include "parts/recipe_code.html" %}
    </div>

    {# Interface panel. #}
    <div class="ui basic segment collapse" id="interface">
        {% include "parts/recipe_interface.html" %}
    </div>

    {# Edit panel. #}
    <div class="ui basic large segment collapse formstyle" id="edit">
        {% include "parts/recipe_edit.html" %}
    </div>

    {# Run panel. #}
    <div class="ui basic large segment collapse recipe-form" id="run">
        {#% include "parts/recipe_run.html" %#}
    </div>


    {# Results panel. #}
    <div class="ui basic large segment collapse" id="results">
        {#% include "parts/recipe_results.html" %#}
    </div>


    {# Preview anchor. #}
    <div class="ui tiny inputcolor modal" id="preview">
        <div></div>
    </div>

        {% endblock %}
    </span>
    </div>
{% endblock %}



